import{j as U}from"./jsx-runtime-CGpYA4L6.js";import{R as r,r as J}from"./index-CleY8y_P.js";import{O as gt,C as ht,b as wt,P as vt,a as bt,T as yt,D as Dt,R as St}from"./index-CNHJ6ZtR.js";import{c as te}from"./utils-8RyR4BqC.js";function Et(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const Ue=r.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,handleOnly:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),he=()=>{const e=r.useContext(Ue);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Et("[vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-handle]{display:block;position:relative;opacity:.8;margin-left:auto;margin-right:auto;height:5px;width:56px;border-radius:1rem;touch-action:pan-y;cursor:grab}[vaul-handle]:active,[vaul-handle]:hover{opacity:1}[vaul-handle]:active{cursor:grabbing}[vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}@media (hover:hover) and (pointer:fine){[vaul-drawer]{user-select:none}}@media (pointer:fine){[vaul-handle-hitarea]:{width:100%;height:100%}}");const Tt=typeof window<"u"?J.useLayoutEffect:J.useEffect;function xe(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}function Rt(){return Ce(/^Mac/)}function xt(){return Ce(/^iPhone/)}function Ot(){return Ce(/^iPad/)||Rt()&&navigator.maxTouchPoints>1}function Be(){return xt()||Ot()}function Ce(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Ee=typeof document<"u"&&window.visualViewport;function _e(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function We(e){for(_e(e)&&(e=e.parentElement);e&&!_e(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const $t=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let me=0,Te;function Ct(e={}){let{isDisabled:n}=e;Tt(()=>{if(!n)return me++,me===1&&(Be()?Te=At():Te=Nt()),()=>{me--,me===0&&Te()}},[n])}function Nt(){return xe(ze(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function At(){let e,n=0,t=h=>{e=We(h.target),!(e===document.documentElement&&e===document.body)&&(n=h.changedTouches[0].pageY)},i=h=>{if(!e||e===document.documentElement||e===document.body){h.preventDefault();return}let f=h.changedTouches[0].pageY,c=e.scrollTop,M=e.scrollHeight-e.clientHeight;M!==0&&((c<=0&&f>n||c>=M&&f<n)&&h.preventDefault(),n=f)},a=h=>{let f=h.target;Oe(f)&&f!==document.activeElement&&(h.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},l=h=>{let f=h.target;Oe(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",Ee&&(Ee.height<window.innerHeight?requestAnimationFrame(()=>{je(f)}):Ee.addEventListener("resize",()=>je(f),{once:!0}))}))},u=()=>{window.scrollTo(0,0)},p=window.pageXOffset,y=window.pageYOffset,T=xe(ze(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let A=xe(ie(document,"touchstart",t,{passive:!1,capture:!0}),ie(document,"touchmove",i,{passive:!1,capture:!0}),ie(document,"touchend",a,{passive:!1,capture:!0}),ie(document,"focus",l,!0),ie(window,"scroll",u));return()=>{T(),A(),window.scrollTo(p,y)}}function ze(e,n,t){let i=e.style[n];return e.style[n]=t,()=>{e.style[n]=i}}function ie(e,n,t,i){return e.addEventListener(n,t,i),()=>{e.removeEventListener(n,t,i)}}function je(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=We(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let i=t.getBoundingClientRect().top,a=e.getBoundingClientRect().top,l=e.getBoundingClientRect().bottom;const u=t.getBoundingClientRect().bottom;l>u&&(t.scrollTop+=a-i)}e=t.parentElement}}function Oe(e){return e instanceof HTMLInputElement&&!$t.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Pt(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Mt(...e){return n=>e.forEach(t=>Pt(t,n))}function Ye(...e){return J.useCallback(Mt(...e),e)}let le=null;function It({isOpen:e,modal:n,nested:t,hasBeenOpened:i,preventScrollRestoration:a,noBodyStyles:l}){const[u,p]=r.useState(()=>typeof window<"u"?window.location.href:""),y=r.useRef(0),T=r.useCallback(()=>{if(le===null&&e&&!l){le={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-y.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const c=f-window.innerHeight;c&&y.current>=f&&(document.body.style.top=`${-(y.current+c)}px`)}),300)}},[e]),A=r.useCallback(()=>{if(le!==null&&!l){const h=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,le),window.requestAnimationFrame(()=>{if(a&&u!==window.location.href){p(window.location.href);return}window.scrollTo(f,h)}),le=null}},[u]);return r.useEffect(()=>{function h(){y.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),r.useEffect(()=>{t||!i||(e?(!window.matchMedia("(display-mode: standalone)").matches&&T(),n||window.setTimeout(()=>{A()},500)):A())},[e,i,u,n,t,T,A]),{restorePositionSetting:A}}const Fe=new WeakMap;function S(e,n,t=!1){if(!e||!(e instanceof HTMLElement))return;let i={};Object.entries(n).forEach(([a,l])=>{if(a.startsWith("--")){e.style.setProperty(a,l);return}i[a]=e.style[a],e.style[a]=l}),!t&&Fe.set(e,i)}function pe(e,n){if(!e||!(e instanceof HTMLElement))return;let t=Fe.get(e);t&&(n?e.style[n]=t[n]:Object.entries(t).forEach(([i,a])=>{e.style[i]=a}))}const N=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ge(e,n){if(!e)return null;const t=window.getComputedStyle(e),i=t.transform||t.webkitTransform||t.mozTransform;let a=i.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[N(n)?13:12]):(a=i.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[N(n)?5:4]):null)}function Ht(e){return 8*(Math.log(e+1)-2)}const D={DURATION:.5,EASE:[.32,.72,0,1]},Xe=.4;function Ge(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e}),r.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function Vt({defaultProp:e,onChange:n}){const t=r.useState(e),[i]=t,a=r.useRef(i),l=Ge(n);return r.useEffect(()=>{a.current!==i&&(l(i),a.current=i)},[i,a,l]),t}function Lt({prop:e,defaultProp:n,onChange:t=()=>{}}){const[i,a]=Vt({defaultProp:n,onChange:t}),l=e!==void 0,u=l?e:i,p=Ge(t),y=r.useCallback(T=>{if(l){const h=typeof T=="function"?T(e):T;h!==e&&p(h)}else a(T)},[l,e,a,p]);return[u,y]}function _t({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:i,overlayRef:a,fadeFromIndex:l,onSnapPointChange:u,direction:p="bottom"}){const[y,T]=Lt({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),A=r.useMemo(()=>y===(t==null?void 0:t[t.length-1])||null,[t,y]),h=t&&t.length>0&&(l||l===0)&&!Number.isNaN(l)&&t[l]===y||!t,f=r.useMemo(()=>t==null?void 0:t.findIndex(v=>v===y),[t,y]),c=r.useMemo(()=>{var v;return(v=t==null?void 0:t.map(o=>{const b=typeof window<"u",O=typeof o=="string";let $=0;if(O&&($=parseInt(o,10)),N(p)){const d=O?$:b?o*window.innerHeight:0;return b?p==="bottom"?window.innerHeight-d:-window.innerHeight+d:d}const R=O?$:b?o*window.innerWidth:0;return b?p==="right"?window.innerWidth-R:-window.innerWidth+R:R}))!=null?v:[]},[t]),M=r.useMemo(()=>f!==null?c==null?void 0:c[f]:null,[c,f]),P=r.useCallback(v=>{var o;const b=(o=c==null?void 0:c.findIndex(O=>O===v))!=null?o:null;u(b),S(i.current,{transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,transform:N(p)?`translate3d(0, ${v}px, 0)`:`translate3d(${v}px, 0, 0)`}),c&&b!==c.length-1&&b!==l?S(a.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,opacity:"0"}):S(a.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,opacity:"1"}),T(b!==null?t==null?void 0:t[b]:null)},[i.current,t,c,l,a,T]);r.useEffect(()=>{if(y||e){var v;const o=(v=t==null?void 0:t.findIndex(b=>b===e||b===y))!=null?v:-1;c&&o!==-1&&typeof c[o]=="number"&&P(c[o])}},[y,e,t,c,P]);function Y({draggedDistance:v,closeDrawer:o,velocity:b,dismissible:O}){if(l===void 0)return;const $=p==="bottom"||p==="right"?(M??0)-v:(M??0)+v,R=f===l-1,d=f===0,I=v>0;if(R&&S(a.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),b>2&&!I){O?o():P(c[0]);return}if(b>2&&I&&c&&t){P(c[t.length-1]);return}const k=c==null?void 0:c.reduce((H,B)=>typeof H!="number"||typeof B!="number"?H:Math.abs(B-$)<Math.abs(H-$)?B:H),V=N(p)?window.innerHeight:window.innerWidth;if(b>Xe&&Math.abs(v)<V*.4){const H=I?1:-1;if(H>0&&A){P(c[t.length-1]);return}if(d&&H<0&&O&&o(),f===null)return;P(c[f+H]);return}P(k)}function _({draggedDistance:v}){if(M===null)return;const o=p==="bottom"||p==="right"?M-v:M+v;(p==="bottom"||p==="right")&&o<c[c.length-1]||(p==="top"||p==="left")&&o>c[c.length-1]||S(i.current,{transform:N(p)?`translate3d(0, ${o}px, 0)`:`translate3d(${o}px, 0, 0)`})}function W(v,o){if(!t||typeof f!="number"||!c||l===void 0)return null;const b=f===l-1;if(f>=l&&o)return 0;if(b&&!o)return 1;if(!h&&!b)return null;const $=b?f+1:f-1,R=b?c[$]-c[$-1]:c[$+1]-c[$],d=v/Math.abs(R);return b?1-d:d}return{isLastSnapPoint:A,activeSnapPoint:y,shouldFade:h,getPercentageDragged:W,setActiveSnapPoint:T,activeSnapPointIndex:f,onRelease:Y,onDrag:_,snapPointsOffset:c}}const jt=.25,kt=100,ke=8,K=16,qe=26,Re="vaul-dragging";function Ke({open:e,onOpenChange:n,children:t,shouldScaleBackground:i,onDrag:a,onRelease:l,snapPoints:u,nested:p=!1,setBackgroundColorOnScale:y=!0,closeThreshold:T=jt,scrollLockTimeout:A=kt,dismissible:h=!0,handleOnly:f=!1,fadeFromIndex:c=u&&u.length-1,activeSnapPoint:M,setActiveSnapPoint:P,fixed:Y,modal:_=!0,onClose:W,noBodyStyles:v,direction:o="bottom",preventScrollRestoration:b=!0,disablePreventScroll:O=!1}){var $;const[R=!1,d]=r.useState(!1),[I,k]=r.useState(!1),[V,H]=r.useState(!1),[B,se]=r.useState(!1),[F,we]=r.useState(!1),[tt,Ne]=r.useState(!1),X=r.useRef(null),ue=r.useRef(null),ve=r.useRef(null),be=r.useRef(null),ne=r.useRef(null),re=r.useRef(!1),ye=r.useRef(null),De=r.useRef(0),Q=r.useRef(!1),Ae=r.useRef(0),m=r.useRef(null),Pe=r.useRef((($=m.current)==null?void 0:$.getBoundingClientRect().height)||0),Se=r.useRef(0),nt=r.useCallback(s=>{u&&s===ae.length-1&&(ue.current=new Date)},[]),{activeSnapPoint:rt,activeSnapPointIndex:oe,setActiveSnapPoint:Me,onRelease:ot,snapPointsOffset:ae,onDrag:at,shouldFade:Ie,getPercentageDragged:it}=_t({snapPoints:u,activeSnapPointProp:M,setActiveSnapPointProp:P,drawerRef:m,fadeFromIndex:c,overlayRef:X,onSnapPointChange:nt,direction:o});Ct({isDisabled:!R||F||!_||tt||!I||O});const{restorePositionSetting:lt}=It({isOpen:R,modal:_,nested:p,hasBeenOpened:I,preventScrollRestoration:b,noBodyStyles:v});function Z(){return(window.innerWidth-qe)/window.innerWidth}function st(s){var g;!h&&!u||m.current&&!m.current.contains(s.target)||(Pe.current=((g=m.current)==null?void 0:g.getBoundingClientRect().height)||0,we(!0),ve.current=new Date,Be()&&window.addEventListener("touchend",()=>re.current=!1,{once:!0}),s.target.setPointerCapture(s.pointerId),De.current=N(o)?s.clientY:s.clientX)}function He(s,g){var E;let w=s;const x=(E=window.getSelection())==null?void 0:E.toString(),C=m.current?ge(m.current,o):null,L=new Date;if(w.hasAttribute("data-vaul-no-drag")||w.closest("[data-vaul-no-drag]"))return!1;if(o==="right"||o==="left")return!0;if(ue.current&&L.getTime()-ue.current.getTime()<500)return!1;if(C!==null&&(o==="bottom"?C>0:C<0))return!0;if(x&&x.length>0)return!1;if(ne.current&&L.getTime()-ne.current.getTime()<A&&C===0||g)return ne.current=L,!1;for(;w;){if(w.scrollHeight>w.clientHeight){if(w.scrollTop!==0)return ne.current=new Date,!1;if(w.getAttribute("role")==="dialog")return!0}w=w.parentNode}return!0}function ut(s){if(m.current&&F){const g=o==="bottom"||o==="right"?1:-1,E=(De.current-(N(o)?s.clientY:s.clientX))*g,w=E>0,x=u&&!h&&!w;if(x&&oe===0)return;const C=Math.abs(E),L=document.querySelector("[vaul-drawer-wrapper]");let q=C/Pe.current;const z=it(C,w);if(z!==null&&(q=z),x&&q>=1||!re.current&&!He(s.target,w))return;if(m.current.classList.add(Re),re.current=!0,S(m.current,{transition:"none"}),S(X.current,{transition:"none"}),u&&at({draggedDistance:E}),w&&!u){const G=Ht(E),fe=Math.min(G*-1,0)*g;S(m.current,{transform:N(o)?`translate3d(0, ${fe}px, 0)`:`translate3d(${fe}px, 0, 0)`});return}const de=1-q;if((Ie||c&&oe===c-1)&&(a==null||a(s,q),S(X.current,{opacity:`${de}`,transition:"none"},!0)),L&&X.current&&i){const G=Math.min(Z()+q*(1-Z()),1),fe=8-q*8,Le=Math.max(0,14-q*14);S(L,{borderRadius:`${fe}px`,transform:N(o)?`scale(${G}) translate3d(0, ${Le}px, 0)`:`scale(${G}) translate3d(${Le}px, 0, 0)`,transition:"none"},!0)}if(!u){const G=C*g;S(m.current,{transform:N(o)?`translate3d(0, ${G}px, 0)`:`translate3d(${G}px, 0, 0)`})}}}r.useEffect(()=>()=>{ce(!1),lt()},[]),r.useEffect(()=>{var s;function g(){if(!m.current)return;const E=document.activeElement;if(Oe(E)||Q.current){var w;const x=((w=window.visualViewport)==null?void 0:w.height)||0;let C=window.innerHeight-x;const L=m.current.getBoundingClientRect().height||0;Se.current||(Se.current=L);const q=m.current.getBoundingClientRect().top;if(Math.abs(Ae.current-C)>60&&(Q.current=!Q.current),u&&u.length>0&&ae&&oe){const z=ae[oe]||0;C+=z}if(Ae.current=C,L>x||Q.current){const z=m.current.getBoundingClientRect().height;let de=z;z>x&&(de=x-qe),Y?m.current.style.height=`${z-Math.max(C,0)}px`:m.current.style.height=`${Math.max(de,x-q)}px`}else m.current.style.height=`${Se.current}px`;u&&u.length>0&&!Q.current?m.current.style.bottom="0px":m.current.style.bottom=`${Math.max(C,0)}px`}}return(s=window.visualViewport)==null||s.addEventListener("resize",g),()=>{var E;return(E=window.visualViewport)==null?void 0:E.removeEventListener("resize",g)}},[oe,u,ae]);function ee(){m.current&&(ct(),W==null||W(),S(m.current,{transform:N(o)?`translate3d(0, ${o==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${o==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),S(X.current,{opacity:"0",transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),ce(!1),setTimeout(()=>{H(!1),d(!1)},300),setTimeout(()=>{u&&Me(u[0])},D.DURATION*1e3))}r.useEffect(()=>{if(!R&&i){const s=setTimeout(()=>{pe(document.body)},200);return()=>clearTimeout(s)}},[R,i]),r.useLayoutEffect(()=>{e?(d(!0),k(!0)):ee()},[e]),r.useEffect(()=>{B&&(n==null||n(R))},[R]),r.useEffect(()=>{se(!0)},[]);function Ve(){if(!m.current)return;const s=document.querySelector("[vaul-drawer-wrapper]"),g=ge(m.current,o);S(m.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),S(X.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,opacity:"1"}),i&&g&&g>0&&R&&S(s,{borderRadius:`${ke}px`,overflow:"hidden",...N(o)?{transform:`scale(${Z()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Z()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${D.DURATION}s`,transitionTimingFunction:`cubic-bezier(${D.EASE.join(",")})`},!0)}function ct(){!F||!m.current||(m.current.classList.remove(Re),re.current=!1,we(!1),be.current=new Date)}function dt(s){if(!F||!m.current)return;m.current.classList.remove(Re),re.current=!1,we(!1),be.current=new Date;const g=ge(m.current,o);if(!He(s.target,!1)||!g||Number.isNaN(g)||ve.current===null)return;const E=be.current.getTime()-ve.current.getTime(),w=De.current-(N(o)?s.clientY:s.clientX),x=Math.abs(w)/E;if(x>.05&&(Ne(!0),setTimeout(()=>{Ne(!1)},200)),u){ot({draggedDistance:w*(o==="bottom"||o==="right"?1:-1),closeDrawer:ee,velocity:x,dismissible:h}),l==null||l(s,!0);return}if(o==="bottom"||o==="right"?w>0:w<0){Ve(),l==null||l(s,!0);return}if(x>Xe){ee(),l==null||l(s,!1);return}var C;const L=Math.min((C=m.current.getBoundingClientRect().height)!=null?C:0,window.innerHeight);if(g>=L*T){ee(),l==null||l(s,!1);return}l==null||l(s,!0),Ve()}r.useEffect(()=>{R&&(S(document.documentElement,{scrollBehavior:"auto"}),ue.current=new Date,ce(!0))},[R]),r.useEffect(()=>{if(m.current&&V){var s;const g=m==null||(s=m.current)==null?void 0:s.querySelectorAll("*");g==null||g.forEach(E=>{const w=E;(w.scrollHeight>w.clientHeight||w.scrollWidth>w.clientWidth)&&w.classList.add("vaul-scrollable")})}},[V]);function ce(s){const g=document.querySelector("[vaul-drawer-wrapper]");!g||!i||(s?(y&&(v||(S(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),S(document.body,{background:"black"},!0))),S(g,{borderRadius:`${ke}px`,overflow:"hidden",...N(o)?{transform:`scale(${Z()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Z()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${D.DURATION}s`,transitionTimingFunction:`cubic-bezier(${D.EASE.join(",")})`})):(pe(g,"overflow"),pe(g,"transform"),pe(g,"borderRadius"),S(g,{transitionProperty:"transform, border-radius",transitionDuration:`${D.DURATION}s`,transitionTimingFunction:`cubic-bezier(${D.EASE.join(",")})`})))}function ft(s){const g=s?(window.innerWidth-K)/window.innerWidth:1,E=s?-K:0;ye.current&&window.clearTimeout(ye.current),S(m.current,{transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,transform:`scale(${g}) translate3d(0, ${E}px, 0)`}),!s&&m.current&&(ye.current=setTimeout(()=>{const w=ge(m.current,o);S(m.current,{transition:"none",transform:N(o)?`translate3d(0, ${w}px, 0)`:`translate3d(${w}px, 0, 0)`})},500))}function mt(s,g){if(g<0)return;const E=N(o)?window.innerHeight:window.innerWidth,w=(E-K)/E,x=w+g*(1-w),C=-K+g*K;S(m.current,{transform:N(o)?`scale(${x}) translate3d(0, ${C}px, 0)`:`scale(${x}) translate3d(${C}px, 0, 0)`,transition:"none"})}function pt(s,g){const E=N(o)?window.innerHeight:window.innerWidth,w=g?(E-K)/E:1,x=g?-K:0;g&&S(m.current,{transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,transform:N(o)?`scale(${w}) translate3d(0, ${x}px, 0)`:`scale(${w}) translate3d(${x}px, 0, 0)`})}return r.createElement(St,{modal:_,onOpenChange:s=>{if(e!==void 0){n==null||n(s);return}s?(k(!0),d(s)):ee()},open:R},r.createElement(Ue.Provider,{value:{visible:V,activeSnapPoint:rt,snapPoints:u,setActiveSnapPoint:Me,drawerRef:m,overlayRef:X,scaleBackground:ce,onOpenChange:n,onPress:st,setVisible:H,onRelease:dt,onDrag:ut,dismissible:h,handleOnly:f,isOpen:R,isDragging:F,shouldFade:Ie,closeDrawer:ee,onNestedDrag:mt,onNestedOpenChange:ft,onNestedRelease:pt,keyboardIsOpen:Q,openProp:e,modal:_,snapPointsOffset:ae,direction:o}},t))}const qt=250,Ut=120,Je=r.forwardRef(function({preventCycle:e=!1,children:n,...t},i){const{visible:a,closeDrawer:l,isDragging:u,snapPoints:p,activeSnapPoint:y,setActiveSnapPoint:T,dismissible:A,handleOnly:h,onPress:f,onDrag:c}=he(),M=r.useRef(null),P=r.useRef(!1);function Y(){if(P.current){v();return}window.setTimeout(()=>{_()},Ut)}function _(){if(u||e||P.current){v();return}if(v(),(!p||p.length===0)&&A){l();return}if(y===p[p.length-1]&&A){l();return}const b=p.findIndex($=>$===y);if(b===-1)return;const O=p[b+1];T(O)}function W(){M.current=window.setTimeout(()=>{P.current=!0},qt)}function v(){window.clearTimeout(M.current),P.current=!1}return r.createElement("div",{onClick:Y,onDoubleClick:()=>{P.current=!0,l()},onPointerCancel:v,onPointerDown:o=>{h&&f(o),W()},onPointerMove:o=>{h&&c(o)},ref:i,"vaul-drawer-visible":a?"true":"false","vaul-handle":"","aria-hidden":"true",...t},r.createElement("span",{"vaul-handle-hitarea":"","aria-hidden":"true"},n))});Je.displayName="Drawer.Handle";const Qe=r.forwardRef(function({children:e,...n},t){const{overlayRef:i,snapPoints:a,onRelease:l,shouldFade:u,isOpen:p,visible:y}=he(),T=Ye(t,i),A=a&&a.length>0;return r.createElement(gt,{onMouseUp:l,ref:T,"vaul-drawer-visible":y?"true":"false","vaul-overlay":"","vaul-snap-points":p&&A?"true":"false","vaul-snap-points-overlay":p&&u?"true":"false",...n})});Qe.displayName="Drawer.Overlay";const Ze=r.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:n,onAnimationEnd:t,style:i,...a},l){const{drawerRef:u,onPress:p,onRelease:y,onDrag:T,dismissible:A,keyboardIsOpen:h,snapPointsOffset:f,visible:c,closeDrawer:M,modal:P,openProp:Y,onOpenChange:_,setVisible:W,handleOnly:v,direction:o}=he(),b=Ye(l,u),O=r.useRef(null),$=r.useRef(!1),R=(d,I,k=0)=>{if($.current)return!0;const V=Math.abs(d.y),H=Math.abs(d.x),B=H>V,se=["bottom","right"].includes(I)?1:-1;if(I==="left"||I==="right"){if(!(d.x*se<0)&&H>=0&&H<=k)return B}else if(!(d.y*se<0)&&V>=0&&V<=k)return!B;return $.current=!0,!0};return r.useEffect(()=>{W(!0)},[]),r.createElement(ht,{"vaul-drawer":"","vaul-drawer-direction":o,"vaul-drawer-visible":c?"true":"false",...a,ref:b,style:f&&f.length>0?{"--snap-point-height":`${f[0]}px`,...i}:i,onOpenAutoFocus:d=>{if(e)e(d);else{var I;d.preventDefault(),(I=u.current)==null||I.focus()}},onPointerDown:d=>{v||(a.onPointerDown==null||a.onPointerDown.call(a,d),O.current={x:d.clientX,y:d.clientY},p(d))},onPointerDownOutside:d=>{if(n==null||n(d),!P||d.defaultPrevented){d.preventDefault();return}h.current&&(h.current=!1),d.preventDefault(),_==null||_(!1),!(!A||Y!==void 0)&&M()},onFocusOutside:d=>{if(!P){d.preventDefault();return}},onEscapeKeyDown:d=>{if(!P){d.preventDefault();return}},onPointerMove:d=>{if(v||(a.onPointerMove==null||a.onPointerMove.call(a,d),!O.current))return;const I=d.clientY-O.current.y,k=d.clientX-O.current.x,V=d.pointerType==="touch"?10:2;R({x:k,y:I},o,V)?T(d):(Math.abs(k)>V||Math.abs(I)>V)&&(O.current=null)},onPointerUp:d=>{a.onPointerUp==null||a.onPointerUp.call(a,d),O.current=null,$.current=!1,y(d)}})});Ze.displayName="Drawer.Content";function Bt({onDrag:e,onOpenChange:n,...t}){const{onNestedDrag:i,onNestedOpenChange:a,onNestedRelease:l}=he();if(!i)throw new Error("Drawer.NestedRoot must be placed in another drawer");return r.createElement(Ke,{nested:!0,onClose:()=>{a(!1)},onDrag:(u,p)=>{i(u,p),e==null||e(u,p)},onOpenChange:u=>{u&&a(u),n==null||n(u)},onRelease:l,...t})}const j={Root:Ke,NestedRoot:Bt,Content:Ze,Handle:Je,Overlay:Qe,Trigger:wt,Portal:vt,Close:bt,Title:yt,Description:Dt},$e=({shouldScaleBackground:e=!0,...n})=>U.jsx(j.Root,{shouldScaleBackground:e,...n});$e.displayName="Drawer";const en=j.Trigger,Wt=j.Portal,tn=j.Close,et=J.forwardRef(({className:e,...n},t)=>U.jsx(j.Overlay,{ref:t,className:te("fixed inset-0 z-50 bg-black/80",e),...n}));et.displayName=j.Overlay.displayName;const zt=J.forwardRef(({className:e,children:n,...t},i)=>U.jsxs(Wt,{children:[U.jsx(et,{}),U.jsxs(j.Content,{ref:i,className:te("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...t,children:[U.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]}));zt.displayName="DrawerContent";const Yt=({className:e,...n})=>U.jsx("div",{className:te("grid gap-1.5 p-4 text-center sm:text-left",e),...n});Yt.displayName="DrawerHeader";const Ft=({className:e,...n})=>U.jsx("div",{className:te("mt-auto flex flex-col gap-2 p-4",e),...n});Ft.displayName="DrawerFooter";const Xt=J.forwardRef(({className:e,...n},t)=>U.jsx(j.Title,{ref:t,className:te("text-lg font-semibold leading-none tracking-tight",e),...n}));Xt.displayName=j.Title.displayName;const Gt=J.forwardRef(({className:e,...n},t)=>U.jsx(j.Description,{ref:t,className:te("text-sm text-muted-foreground",e),...n}));Gt.displayName=j.Description.displayName;try{$e.displayName="Drawer",$e.__docgenInfo={description:"",displayName:"Drawer",props:{activeSnapPoint:{defaultValue:null,description:"",name:"activeSnapPoint",required:!1,type:{name:"string | number | null"}},setActiveSnapPoint:{defaultValue:null,description:"",name:"setActiveSnapPoint",required:!1,type:{name:"((snapPoint: string | number | null) => void)"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},closeThreshold:{defaultValue:null,description:"",name:"closeThreshold",required:!1,type:{name:"number"}},noBodyStyles:{defaultValue:null,description:"",name:"noBodyStyles",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"",name:"onOpenChange",required:!1,type:{name:"((open: boolean) => void)"}},shouldScaleBackground:{defaultValue:{value:"true"},description:"",name:"shouldScaleBackground",required:!1,type:{name:"boolean"}},setBackgroundColorOnScale:{defaultValue:null,description:"",name:"setBackgroundColorOnScale",required:!1,type:{name:"boolean"}},scrollLockTimeout:{defaultValue:null,description:"",name:"scrollLockTimeout",required:!1,type:{name:"number"}},fixed:{defaultValue:null,description:"",name:"fixed",required:!1,type:{name:"boolean"}},dismissible:{defaultValue:null,description:"",name:"dismissible",required:!1,type:{name:"boolean"}},handleOnly:{defaultValue:null,description:"",name:"handleOnly",required:!1,type:{name:"boolean"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"((event: PointerEvent<HTMLDivElement>, percentageDragged: number) => void)"}},onRelease:{defaultValue:null,description:"",name:"onRelease",required:!1,type:{name:"((event: PointerEvent<HTMLDivElement>, open: boolean) => void)"}},modal:{defaultValue:null,description:"",name:"modal",required:!1,type:{name:"boolean"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},preventScrollRestoration:{defaultValue:null,description:"",name:"preventScrollRestoration",required:!1,type:{name:"boolean"}},disablePreventScroll:{defaultValue:null,description:"",name:"disablePreventScroll",required:!1,type:{name:"boolean"}}}}}catch{}export{$e as D,en as a,zt as b,Yt as c,Xt as d,Gt as e,Ft as f,tn as g};
