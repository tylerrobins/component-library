import{j as a}from"./jsx-runtime-CGpYA4L6.js";import{r as n}from"./index-CleY8y_P.js";import{u as M}from"./index-1PiYJVay.js";import{c as O,P as j}from"./index-BUwirNCq.js";import{u as q,c as P}from"./index-CRjgN0eO.js";import{u as A}from"./index-mE8aEH4R.js";import{u as H}from"./index-DOFQCb2T.js";import{P as K}from"./index-FvTp1rED.js";import{c as _}from"./utils-8RyR4BqC.js";import{C as L}from"./check-D2cwZkjZ.js";var y="Checkbox",[z,oe]=O(y),[T,X]=z(y),R=n.forwardRef((e,c)=>{const{__scopeCheckbox:t,name:d,checked:f,defaultChecked:s,required:m,disabled:l,value:u="on",onCheckedChange:b,...g}=e,[r,k]=n.useState(null),D=M(c,o=>k(o)),x=n.useRef(!1),E=r?!!r.closest("form"):!0,[p=!1,C]=q({prop:f,defaultProp:s,onChange:b}),B=n.useRef(p);return n.useEffect(()=>{const o=r==null?void 0:r.form;if(o){const h=()=>C(B.current);return o.addEventListener("reset",h),()=>o.removeEventListener("reset",h)}},[r,C]),a.jsxs(T,{scope:t,state:p,disabled:l,children:[a.jsx(j.button,{type:"button",role:"checkbox","aria-checked":i(p)?"mixed":p,"aria-required":m,"data-state":I(p),"data-disabled":l?"":void 0,disabled:l,value:u,...g,ref:D,onKeyDown:P(e.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:P(e.onClick,o=>{C(h=>i(h)?!0:!h),E&&(x.current=o.isPropagationStopped(),x.current||o.stopPropagation())})}),E&&a.jsx(F,{control:r,bubbles:!x.current,name:d,value:u,checked:p,required:m,disabled:l,style:{transform:"translateX(-100%)"}})]})});R.displayName=y;var w="CheckboxIndicator",N=n.forwardRef((e,c)=>{const{__scopeCheckbox:t,forceMount:d,...f}=e,s=X(w,t);return a.jsx(K,{present:d||i(s.state)||s.state===!0,children:a.jsx(j.span,{"data-state":I(s.state),"data-disabled":s.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...e.style}})})});N.displayName=w;var F=e=>{const{control:c,checked:t,bubbles:d=!0,...f}=e,s=n.useRef(null),m=A(t),l=H(c);return n.useEffect(()=>{const u=s.current,b=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(b,"checked").set;if(m!==t&&r){const k=new Event("click",{bubbles:d});u.indeterminate=i(t),r.call(u,i(t)?!1:t),u.dispatchEvent(k)}},[m,t,d]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i(t)?!1:t,...f,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function i(e){return e==="indeterminate"}function I(e){return i(e)?"indeterminate":e?"checked":"unchecked"}var S=R,V=N;const v=n.forwardRef(({className:e,...c},t)=>a.jsx(S,{ref:t,className:_("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...c,children:a.jsx(V,{className:_("flex items-center justify-center text-current"),children:a.jsx(L,{className:"h-4 w-4"})})}));v.displayName=S.displayName;try{v.displayName="Checkbox",v.__docgenInfo={description:"",displayName:"Checkbox",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}export{v as C};
