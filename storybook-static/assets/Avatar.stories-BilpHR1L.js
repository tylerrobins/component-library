import{j as t}from"./jsx-runtime-CGpYA4L6.js";import{r as o}from"./index-CleY8y_P.js";import{c as q,P as f,b as V,u as S}from"./index-BUwirNCq.js";import{c as A}from"./utils-8RyR4BqC.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-C2jgcCTd.js";import"./index-1PiYJVay.js";var h="Avatar",[W,J]=q(h),[B,w]=W(h),j=o.forwardRef((a,r)=>{const{__scopeAvatar:e,...s}=a,[n,l]=o.useState("idle");return t.jsx(B,{scope:e,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:t.jsx(f.span,{...s,ref:r})})});j.displayName=h;var k="AvatarImage",L=o.forwardRef((a,r)=>{const{__scopeAvatar:e,src:s,onLoadingStatusChange:n=()=>{},...l}=a,i=w(k,e),c=O(s),u=V(_=>{n(_),i.onImageLoadingStatusChange(_)});return S(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?t.jsx(f.img,{...l,ref:r,src:s}):null});L.displayName=k;var R="AvatarFallback",F=o.forwardRef((a,r)=>{const{__scopeAvatar:e,delayMs:s,...n}=a,l=w(R,e),[i,c]=o.useState(s===void 0);return o.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(u)}},[s]),i&&l.imageLoadingStatus!=="loaded"?t.jsx(f.span,{...n,ref:r}):null});F.displayName=R;function O(a){const[r,e]=o.useState("idle");return S(()=>{if(!a){e("error");return}let s=!0;const n=new window.Image,l=i=>()=>{s&&e(i)};return e("loading"),n.onload=l("loaded"),n.onerror=l("error"),n.src=a,()=>{s=!1}},[a]),r}var E=j,M=L,P=F;const d=o.forwardRef(({className:a,...r},e)=>t.jsx(E,{ref:e,className:A("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r}));d.displayName=E.displayName;const m=o.forwardRef(({className:a,...r},e)=>t.jsx(M,{ref:e,className:A("aspect-square h-full w-full",a),...r}));m.displayName=M.displayName;const p=o.forwardRef(({className:a,...r},e)=>t.jsx(P,{ref:e,className:A("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r}));p.displayName=P.displayName;try{d.displayName="Avatar",d.__docgenInfo={description:"",displayName:"Avatar",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{m.displayName="AvatarImage",m.__docgenInfo={description:"",displayName:"AvatarImage",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{p.displayName="AvatarFallback",p.__docgenInfo={description:"",displayName:"AvatarFallback",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const Q={title:"BlackBox/Avatar",component:d,parameters:{layout:"centered"},tags:["autodocs"]},g={render:()=>t.jsxs(d,{children:[t.jsx(m,{src:"https://github.com/shadcn.png"}),t.jsx(p,{children:"CN"})]})},v={render:()=>t.jsxs(d,{children:[t.jsx(m,{src:"https://via.placeholder.com/150"}),t.jsx(p,{children:"CN"})]})};var y,x,N;g.parameters={...g.parameters,docs:{...(y=g.parameters)==null?void 0:y.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src="https://github.com/shadcn.png" />
      <AvatarFallback>CN</AvatarFallback>
    </Avatar>
}`,...(N=(x=g.parameters)==null?void 0:x.docs)==null?void 0:N.source}}};var I,C,b;v.parameters={...v.parameters,docs:{...(I=v.parameters)==null?void 0:I.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src="https://via.placeholder.com/150" />
      <AvatarFallback>CN</AvatarFallback>
    </Avatar>
}`,...(b=(C=v.parameters)==null?void 0:C.docs)==null?void 0:b.source}}};const U=["WithImage","WithOutImage"];export{g as WithImage,v as WithOutImage,U as __namedExportsOrder,Q as default};
