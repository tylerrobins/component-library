import{j as l}from"./jsx-runtime-CGpYA4L6.js";import{r as o}from"./index-CleY8y_P.js";import{c as L}from"./index-DaMBuB3t.js";import{u as R}from"./index-BbYVhFH8.js";import{u as A}from"./index-DBNrNBDr.js";import{P as f}from"./index-BflAudCn.js";import{c as g}from"./utils-8RyR4BqC.js";var v="Avatar",[j,B]=L(v),[k,y]=j(v),N=o.forwardRef((a,r)=>{const{__scopeAvatar:e,...t}=a,[s,n]=o.useState("idle");return l.jsx(k,{scope:e,imageLoadingStatus:s,onImageLoadingStatusChange:n,children:l.jsx(f.span,{...t,ref:r})})});N.displayName=v;var h="AvatarImage",x=o.forwardRef((a,r)=>{const{__scopeAvatar:e,src:t,onLoadingStatusChange:s=()=>{},...n}=a,d=y(h,e),i=E(t),c=R(_=>{s(_),d.onImageLoadingStatusChange(_)});return A(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?l.jsx(f.img,{...n,ref:r,src:t}):null});x.displayName=h;var w="AvatarFallback",S=o.forwardRef((a,r)=>{const{__scopeAvatar:e,delayMs:t,...s}=a,n=y(w,e),[d,i]=o.useState(t===void 0);return o.useEffect(()=>{if(t!==void 0){const c=window.setTimeout(()=>i(!0),t);return()=>window.clearTimeout(c)}},[t]),d&&n.imageLoadingStatus!=="loaded"?l.jsx(f.span,{...s,ref:r}):null});S.displayName=w;function E(a){const[r,e]=o.useState("idle");return A(()=>{if(!a){e("error");return}let t=!0;const s=new window.Image,n=d=>()=>{t&&e(d)};return e("loading"),s.onload=n("loaded"),s.onerror=n("error"),s.src=a,()=>{t=!1}},[a]),r}var C=N,I=x,b=S;const u=o.forwardRef(({className:a,...r},e)=>l.jsx(C,{ref:e,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r}));u.displayName=C.displayName;const m=o.forwardRef(({className:a,...r},e)=>l.jsx(I,{ref:e,className:g("aspect-square h-full w-full",a),...r}));m.displayName=I.displayName;const p=o.forwardRef(({className:a,...r},e)=>l.jsx(b,{ref:e,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r}));p.displayName=b.displayName;try{u.displayName="Avatar",u.__docgenInfo={description:"",displayName:"Avatar",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{m.displayName="AvatarImage",m.__docgenInfo={description:"",displayName:"AvatarImage",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{p.displayName="AvatarFallback",p.__docgenInfo={description:"",displayName:"AvatarFallback",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}export{u as A,m as a,p as b};
