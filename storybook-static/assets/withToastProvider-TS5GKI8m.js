import{j as s}from"./jsx-runtime-CGpYA4L6.js";import{r as a}from"./index-CleY8y_P.js";import{r as Fe}from"./index-Cytgc9eF.js";import{c as C}from"./index-DW48STyt.js";import{u as le}from"./index-1PiYJVay.js";import{c as De}from"./index-BJdLDmjZ.js";import{c as Le}from"./index-DaMBuB3t.js";import{B as Ve,R as Me}from"./index-DK4nl9q8.js";import{P as Oe}from"./index-DirRZWZs.js";import{P as ke}from"./index-BvbQAose.js";import{P as A,d as Ke}from"./index-BflAudCn.js";import{u as W}from"./index-BbYVhFH8.js";import{u as $e}from"./index-WXvbiXxm.js";import{u as He}from"./index-DBNrNBDr.js";import{V as ue}from"./index-DE9U7EbF.js";import{c as We}from"./index-Bb4qSo10.js";import{c as F}from"./utils-8RyR4BqC.js";import{X as qe}from"./x-CMV14TNj.js";import{u as Xe}from"./use-toast-CAMf2V-s.js";var se="ToastProvider",[ae,Ue,Ye]=De("Toast"),[pe,jt]=Le("Toast",[Ye]),[Be,z]=pe(se),fe=e=>{const{__scopeToast:t,label:o="Notification",duration:r=5e3,swipeDirection:d="right",swipeThreshold:l=50,children:p}=e,[v,T]=a.useState(null),[n,_]=a.useState(0),x=a.useRef(!1),D=a.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${se}\`. Expected non-empty \`string\`.`),s.jsx(ae.Provider,{scope:t,children:s.jsx(Be,{scope:t,label:o,duration:r,swipeDirection:d,swipeThreshold:l,toastCount:n,viewport:v,onViewportChange:T,onToastAdd:a.useCallback(()=>_(P=>P+1),[]),onToastRemove:a.useCallback(()=>_(P=>P-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:D,children:p})})};fe.displayName=se;var me="ToastViewport",ze=["F8"],ee="toast.viewportPause",te="toast.viewportResume",ve=a.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:r=ze,label:d="Notifications ({hotkey})",...l}=e,p=z(me,o),v=Ue(o),T=a.useRef(null),n=a.useRef(null),_=a.useRef(null),x=a.useRef(null),D=le(t,x,p.onViewportChange),P=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=p.toastCount>0;a.useEffect(()=>{const c=h=>{var m;r.every(w=>h[w]||h.code===w)&&((m=x.current)==null||m.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[r]),a.useEffect(()=>{const c=T.current,h=x.current;if(N&&c&&h){const f=()=>{if(!p.isClosePausedRef.current){const E=new CustomEvent(ee);h.dispatchEvent(E),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const E=new CustomEvent(te);h.dispatchEvent(E),p.isClosePausedRef.current=!1}},w=E=>{!c.contains(E.relatedTarget)&&m()},y=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",f),c.addEventListener("focusout",w),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",y),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",w),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",y),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[N,p.isClosePausedRef]);const u=a.useCallback(({tabbingDirection:c})=>{const f=v().map(m=>{const w=m.ref.current,y=[w,...ct(w)];return c==="forwards"?y:y.reverse()});return(c==="forwards"?f.reverse():f).flat()},[v]);return a.useEffect(()=>{const c=x.current;if(c){const h=f=>{var y,E,R;const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const L=document.activeElement,S=f.shiftKey;if(f.target===c&&S){(y=n.current)==null||y.focus();return}const I=u({tabbingDirection:S?"backwards":"forwards"}),k=I.findIndex(i=>i===L);Z(I.slice(k+1))?f.preventDefault():S?(E=n.current)==null||E.focus():(R=_.current)==null||R.focus()}};return c.addEventListener("keydown",h),()=>c.removeEventListener("keydown",h)}},[v,u]),s.jsxs(Ve,{ref:T,role:"region","aria-label":d.replace("{hotkey}",P),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&s.jsx(oe,{ref:n,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"forwards"});Z(c)}}),s.jsx(ae.Slot,{scope:o,children:s.jsx(A.ol,{tabIndex:-1,...l,ref:D})}),N&&s.jsx(oe,{ref:_,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"backwards"});Z(c)}})]})});ve.displayName=me;var Te="ToastFocusProxy",oe=a.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:r,...d}=e,l=z(Te,o);return s.jsx(ue,{"aria-hidden":!0,tabIndex:0,...d,ref:t,style:{position:"fixed"},onFocus:p=>{var n;const v=p.relatedTarget;!((n=l.viewport)!=null&&n.contains(v))&&r()}})});oe.displayName=Te;var G="Toast",Ge="toast.swipeStart",Je="toast.swipeMove",Qe="toast.swipeCancel",Ze="toast.swipeEnd",we=a.forwardRef((e,t)=>{const{forceMount:o,open:r,defaultOpen:d,onOpenChange:l,...p}=e,[v=!0,T]=$e({prop:r,defaultProp:d,onChange:l});return s.jsx(ke,{present:o||v,children:s.jsx(ot,{open:v,...p,ref:t,onClose:()=>T(!1),onPause:W(e.onPause),onResume:W(e.onResume),onSwipeStart:C(e.onSwipeStart,n=>{n.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(e.onSwipeMove,n=>{const{x:_,y:x}=n.detail.delta;n.currentTarget.setAttribute("data-swipe","move"),n.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),n.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:C(e.onSwipeCancel,n=>{n.currentTarget.setAttribute("data-swipe","cancel"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),n.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(e.onSwipeEnd,n=>{const{x:_,y:x}=n.detail.delta;n.currentTarget.setAttribute("data-swipe","end"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),n.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),n.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),T(!1)})})})});we.displayName=G;var[et,tt]=pe(G,{onClose(){}}),ot=a.forwardRef((e,t)=>{const{__scopeToast:o,type:r="foreground",duration:d,open:l,onClose:p,onEscapeKeyDown:v,onPause:T,onResume:n,onSwipeStart:_,onSwipeMove:x,onSwipeCancel:D,onSwipeEnd:P,...N}=e,u=z(G,o),[c,h]=a.useState(null),f=le(t,i=>h(i)),m=a.useRef(null),w=a.useRef(null),y=d||u.duration,E=a.useRef(0),R=a.useRef(y),L=a.useRef(0),{onToastAdd:S,onToastRemove:J}=u,j=W(()=>{var g;(c==null?void 0:c.contains(document.activeElement))&&((g=u.viewport)==null||g.focus()),p()}),I=a.useCallback(i=>{!i||i===1/0||(window.clearTimeout(L.current),E.current=new Date().getTime(),L.current=window.setTimeout(j,i))},[j]);a.useEffect(()=>{const i=u.viewport;if(i){const g=()=>{I(R.current),n==null||n()},b=()=>{const V=new Date().getTime()-E.current;R.current=R.current-V,window.clearTimeout(L.current),T==null||T()};return i.addEventListener(ee,b),i.addEventListener(te,g),()=>{i.removeEventListener(ee,b),i.removeEventListener(te,g)}}},[u.viewport,y,T,n,I]),a.useEffect(()=>{l&&!u.isClosePausedRef.current&&I(y)},[l,y,u.isClosePausedRef,I]),a.useEffect(()=>(S(),()=>J()),[S,J]);const k=a.useMemo(()=>c?Ce(c):null,[c]);return u.viewport?s.jsxs(s.Fragment,{children:[k&&s.jsx(rt,{__scopeToast:o,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),s.jsx(et,{scope:o,onClose:j,children:Fe.createPortal(s.jsx(ae.ItemSlot,{scope:o,children:s.jsx(Me,{asChild:!0,onEscapeKeyDown:C(v,()=>{u.isFocusedToastEscapeKeyDownRef.current||j(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(A.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":u.swipeDirection,...N,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:C(e.onKeyDown,i=>{i.key==="Escape"&&(v==null||v(i.nativeEvent),i.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:C(e.onPointerDown,i=>{i.button===0&&(m.current={x:i.clientX,y:i.clientY})}),onPointerMove:C(e.onPointerMove,i=>{if(!m.current)return;const g=i.clientX-m.current.x,b=i.clientY-m.current.y,V=!!w.current,M=["left","right"].includes(u.swipeDirection),K=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,je=M?K(0,g):0,Ae=M?0:K(0,b),Q=i.pointerType==="touch"?10:2,$={x:je,y:Ae},ie={originalEvent:i,delta:$};V?(w.current=$,H(Je,x,ie,{discrete:!1})):ce($,u.swipeDirection,Q)?(w.current=$,H(Ge,_,ie,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(g)>Q||Math.abs(b)>Q)&&(m.current=null)}),onPointerUp:C(e.onPointerUp,i=>{const g=w.current,b=i.target;if(b.hasPointerCapture(i.pointerId)&&b.releasePointerCapture(i.pointerId),w.current=null,m.current=null,g){const V=i.currentTarget,M={originalEvent:i,delta:g};ce(g,u.swipeDirection,u.swipeThreshold)?H(Ze,P,M,{discrete:!0}):H(Qe,D,M,{discrete:!0}),V.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),rt=e=>{const{__scopeToast:t,children:o,...r}=e,d=z(G,t),[l,p]=a.useState(!1),[v,T]=a.useState(!1);return nt(()=>p(!0)),a.useEffect(()=>{const n=window.setTimeout(()=>T(!0),1e3);return()=>window.clearTimeout(n)},[]),v?null:s.jsx(Oe,{asChild:!0,children:s.jsx(ue,{...r,children:l&&s.jsxs(s.Fragment,{children:[d.label," ",o]})})})},st="ToastTitle",ye=a.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return s.jsx(A.div,{...r,ref:t})});ye.displayName=st;var at="ToastDescription",xe=a.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return s.jsx(A.div,{...r,ref:t})});xe.displayName=at;var he="ToastAction",Ee=a.forwardRef((e,t)=>{const{altText:o,...r}=e;return o.trim()?s.jsx(_e,{altText:o,asChild:!0,children:s.jsx(ne,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${he}\`. Expected non-empty \`string\`.`),null)});Ee.displayName=he;var ge="ToastClose",ne=a.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e,d=tt(ge,o);return s.jsx(_e,{asChild:!0,children:s.jsx(A.button,{type:"button",...r,ref:t,onClick:C(e.onClick,d.onClose)})})});ne.displayName=ge;var _e=a.forwardRef((e,t)=>{const{__scopeToast:o,altText:r,...d}=e;return s.jsx(A.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...d,ref:t})});function Ce(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),it(r)){const d=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!d)if(l){const p=r.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...Ce(r))}}),t}function H(e,t,o,{discrete:r}){const d=o.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&d.addEventListener(e,t,{once:!0}),r?Ke(d,l):d.dispatchEvent(l)}var ce=(e,t,o=0)=>{const r=Math.abs(e.x),d=Math.abs(e.y),l=r>d;return t==="left"||t==="right"?l&&r>o:!l&&d>o};function nt(e=()=>{}){const t=W(e);He(()=>{let o=0,r=0;return o=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(r)}},[t])}function it(e){return e.nodeType===e.ELEMENT_NODE}function ct(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const d=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||d?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function Z(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}var dt=fe,be=ve,Pe=we,Ne=ye,Re=xe,Ie=Ee,Se=ne;const q=dt,O=a.forwardRef(({className:e,...t},o)=>s.jsx(be,{ref:o,className:F("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));O.displayName=be.displayName;const lt=We("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),X=a.forwardRef(({className:e,variant:t,...o},r)=>s.jsx(Pe,{ref:r,className:F(lt({variant:t}),e),...o}));X.displayName=Pe.displayName;const re=a.forwardRef(({className:e,...t},o)=>s.jsx(Ie,{ref:o,className:F("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));re.displayName=Ie.displayName;const U=a.forwardRef(({className:e,...t},o)=>s.jsx(Se,{ref:o,className:F("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(qe,{className:"h-4 w-4"})}));U.displayName=Se.displayName;const Y=a.forwardRef(({className:e,...t},o)=>s.jsx(Ne,{ref:o,className:F("text-sm font-semibold",e),...t}));Y.displayName=Ne.displayName;const B=a.forwardRef(({className:e,...t},o)=>s.jsx(Re,{ref:o,className:F("text-sm opacity-90",e),...t}));B.displayName=Re.displayName;try{q.displayName="ToastProvider",q.__docgenInfo={description:"",displayName:"ToastProvider",props:{}}}catch{}try{O.displayName="ToastViewport",O.__docgenInfo={description:"",displayName:"ToastViewport",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{X.displayName="Toast",X.__docgenInfo={description:"",displayName:"Toast",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'"default" | "destructive" | null'}}}}}catch{}try{Y.displayName="ToastTitle",Y.__docgenInfo={description:"",displayName:"ToastTitle",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{B.displayName="ToastDescription",B.__docgenInfo={description:"",displayName:"ToastDescription",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{U.displayName="ToastClose",U.__docgenInfo={description:"",displayName:"ToastClose",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{re.displayName="ToastAction",re.__docgenInfo={description:"",displayName:"ToastAction",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}function ut(){const{toasts:e}=Xe();return s.jsxs(q,{children:[e.map(function({id:t,title:o,description:r,action:d,...l}){return s.jsxs(X,{...l,children:[s.jsxs("div",{className:"grid gap-1",children:[o&&s.jsx(Y,{children:o}),r&&s.jsx(B,{children:r})]}),d,s.jsx(U,{})]},t)}),s.jsx(O,{})]})}const de=e=>s.jsxs(q,{children:[s.jsx(e,{}),s.jsx(ut,{}),s.jsx(O,{})]});try{de.displayName="withToastProvider",de.__docgenInfo={description:"",displayName:"withToastProvider",props:{}}}catch{}export{re as T,de as w};
