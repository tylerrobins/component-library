import{r}from"./index-CleY8y_P.js";import{c as M}from"./index-DW48STyt.js";import{c as $e}from"./index-BJdLDmjZ.js";import{u as N,c as qe,S as Je}from"./index-1PiYJVay.js";import{c as Qe}from"./index-DaMBuB3t.js";import{u as et}from"./index-BBUPqgzG.js";import{D as tt}from"./index-DK4nl9q8.js";import{h as nt,u as ot,F as rt,R as st}from"./index-B41ILiX7.js";import{u as he}from"./index-D0F8yUy8.js";import{c as ve,A as ct,C as at,a as ut,R as Ce}from"./index-GiP06gZx.js";import{P as it}from"./index-DirRZWZs.js";import{P as W}from"./index-BvbQAose.js";import{P as k,d as lt}from"./index-BflAudCn.js";import{c as ge,R as dt,I as ft}from"./index-CU-B850s.js";import{u as ee}from"./index-BbYVhFH8.js";import{j as u}from"./jsx-runtime-CGpYA4L6.js";var Q=["Enter"," "],mt=["ArrowDown","PageUp","Home"],xe=["ArrowUp","PageDown","End"],pt=[...mt,...xe],ht={ltr:[...Q,"ArrowRight"],rtl:[...Q,"ArrowLeft"]},Mt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},F="Menu",[j,vt,Ct]=$e(F),[I,tn]=Qe(F,[Ct,ve,ge]),L=ve(),_e=ge(),[Re,S]=I(F),[gt,K]=I(F),Pe=e=>{const{__scopeMenu:n,open:t=!1,children:o,dir:a,onOpenChange:s,modal:l=!0}=e,m=L(n),[p,h]=r.useState(null),d=r.useRef(!1),c=ee(s),f=et(a);return r.useEffect(()=>{const C=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),u.jsx(Ce,{...m,children:u.jsx(Re,{scope:n,open:t,onOpenChange:c,content:p,onContentChange:h,children:u.jsx(gt,{scope:n,onClose:r.useCallback(()=>c(!1),[c]),isUsingKeyboardRef:d,dir:f,modal:l,children:o})})})};Pe.displayName=F;var xt="MenuAnchor",te=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,a=L(t);return u.jsx(ct,{...a,...o,ref:n})});te.displayName=xt;var ne="MenuPortal",[_t,Se]=I(ne,{forceMount:void 0}),Ee=e=>{const{__scopeMenu:n,forceMount:t,children:o,container:a}=e,s=S(ne,n);return u.jsx(_t,{scope:n,forceMount:t,children:u.jsx(W,{present:t||s.open,children:u.jsx(it,{asChild:!0,container:a,children:o})})})};Ee.displayName=ne;var x="MenuContent",[Rt,oe]=I(x),Ie=r.forwardRef((e,n)=>{const t=Se(x,e.__scopeMenu),{forceMount:o=t.forceMount,...a}=e,s=S(x,e.__scopeMenu),l=K(x,e.__scopeMenu);return u.jsx(j.Provider,{scope:e.__scopeMenu,children:u.jsx(W,{present:o||s.open,children:u.jsx(j.Slot,{scope:e.__scopeMenu,children:l.modal?u.jsx(Pt,{...a,ref:n}):u.jsx(St,{...a,ref:n})})})})}),Pt=r.forwardRef((e,n)=>{const t=S(x,e.__scopeMenu),o=r.useRef(null),a=N(n,o);return r.useEffect(()=>{const s=o.current;if(s)return nt(s)},[]),u.jsx(re,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:M(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),St=r.forwardRef((e,n)=>{const t=S(x,e.__scopeMenu);return u.jsx(re,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),re=r.forwardRef((e,n)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:m,onEntryFocus:p,onEscapeKeyDown:h,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:f,onDismiss:C,disableOutsideScroll:v,...E}=e,w=S(x,t),T=K(x,t),G=L(t),U=_e(t),ie=vt(t),[Ye,le]=r.useState(null),B=r.useRef(null),Xe=N(n,B,w.onContentChange),V=r.useRef(0),Y=r.useRef(""),He=r.useRef(0),Z=r.useRef(null),de=r.useRef("right"),$=r.useRef(0),We=v?st:r.Fragment,ze=v?{as:Je,allowPinchZoom:!0}:void 0,Ze=i=>{var b,me;const g=Y.current+i,_=ie().filter(R=>!R.disabled),P=document.activeElement,q=(b=_.find(R=>R.ref.current===P))==null?void 0:b.textValue,J=_.map(R=>R.textValue),fe=kt(J,g,q),A=(me=_.find(R=>R.textValue===fe))==null?void 0:me.ref.current;(function R(pe){Y.current=pe,window.clearTimeout(V.current),pe!==""&&(V.current=window.setTimeout(()=>R(""),1e3))})(g),A&&setTimeout(()=>A.focus())};r.useEffect(()=>()=>window.clearTimeout(V.current),[]),ot();const y=r.useCallback(i=>{var _,P;return de.current===((_=Z.current)==null?void 0:_.side)&&Lt(i,(P=Z.current)==null?void 0:P.area)},[]);return u.jsx(Rt,{scope:t,searchRef:Y,onItemEnter:r.useCallback(i=>{y(i)&&i.preventDefault()},[y]),onItemLeave:r.useCallback(i=>{var g;y(i)||((g=B.current)==null||g.focus(),le(null))},[y]),onTriggerLeave:r.useCallback(i=>{y(i)&&i.preventDefault()},[y]),pointerGraceTimerRef:He,onPointerGraceIntentChange:r.useCallback(i=>{Z.current=i},[]),children:u.jsx(We,{...ze,children:u.jsx(rt,{asChild:!0,trapped:a,onMountAutoFocus:M(s,i=>{var g;i.preventDefault(),(g=B.current)==null||g.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:u.jsx(tt,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:h,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:f,onDismiss:C,children:u.jsx(dt,{asChild:!0,...U,dir:T.dir,orientation:"vertical",loop:o,currentTabStopId:Ye,onCurrentTabStopIdChange:le,onEntryFocus:M(p,i=>{T.isUsingKeyboardRef.current||i.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(at,{role:"menu","aria-orientation":"vertical","data-state":Ve(w.open),"data-radix-menu-content":"",dir:T.dir,...G,...E,ref:Xe,style:{outline:"none",...E.style},onKeyDown:M(E.onKeyDown,i=>{const _=i.target.closest("[data-radix-menu-content]")===i.currentTarget,P=i.ctrlKey||i.altKey||i.metaKey,q=i.key.length===1;_&&(i.key==="Tab"&&i.preventDefault(),!P&&q&&Ze(i.key));const J=B.current;if(i.target!==J||!pt.includes(i.key))return;i.preventDefault();const A=ie().filter(b=>!b.disabled).map(b=>b.ref.current);xe.includes(i.key)&&A.reverse(),Dt(A)}),onBlur:M(e.onBlur,i=>{i.currentTarget.contains(i.target)||(window.clearTimeout(V.current),Y.current="")}),onPointerMove:M(e.onPointerMove,D(i=>{const g=i.target,_=$.current!==i.clientX;if(i.currentTarget.contains(g)&&_){const P=i.clientX>$.current?"right":"left";de.current=P,$.current=i.clientX}}))})})})})})})});Ie.displayName=x;var Et="MenuGroup",se=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return u.jsx(k.div,{role:"group",...o,ref:n})});se.displayName=Et;var It="MenuLabel",we=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return u.jsx(k.div,{...o,ref:n})});we.displayName=It;var X="MenuItem",Me="menu.itemSelect",z=r.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:o,...a}=e,s=r.useRef(null),l=K(X,e.__scopeMenu),m=oe(X,e.__scopeMenu),p=N(n,s),h=r.useRef(!1),d=()=>{const c=s.current;if(!t&&c){const f=new CustomEvent(Me,{bubbles:!0,cancelable:!0});c.addEventListener(Me,C=>o==null?void 0:o(C),{once:!0}),lt(c,f),f.defaultPrevented?h.current=!1:l.onClose()}};return u.jsx(ye,{...a,ref:p,disabled:t,onClick:M(e.onClick,d),onPointerDown:c=>{var f;(f=e.onPointerDown)==null||f.call(e,c),h.current=!0},onPointerUp:M(e.onPointerUp,c=>{var f;h.current||(f=c.currentTarget)==null||f.click()}),onKeyDown:M(e.onKeyDown,c=>{const f=m.searchRef.current!=="";t||f&&c.key===" "||Q.includes(c.key)&&(c.currentTarget.click(),c.preventDefault())})})});z.displayName=X;var ye=r.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:o=!1,textValue:a,...s}=e,l=oe(X,t),m=_e(t),p=r.useRef(null),h=N(n,p),[d,c]=r.useState(!1),[f,C]=r.useState("");return r.useEffect(()=>{const v=p.current;v&&C((v.textContent??"").trim())},[s.children]),u.jsx(j.ItemSlot,{scope:t,disabled:o,textValue:a??f,children:u.jsx(ft,{asChild:!0,...m,focusable:!o,children:u.jsx(k.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:h,onPointerMove:M(e.onPointerMove,D(v=>{o?l.onItemLeave(v):(l.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:M(e.onPointerLeave,D(v=>l.onItemLeave(v))),onFocus:M(e.onFocus,()=>c(!0)),onBlur:M(e.onBlur,()=>c(!1))})})})}),wt="MenuCheckboxItem",be=r.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:o,...a}=e;return u.jsx(De,{scope:e.__scopeMenu,checked:t,children:u.jsx(z,{role:"menuitemcheckbox","aria-checked":H(t)?"mixed":t,...a,ref:n,"data-state":ue(t),onSelect:M(a.onSelect,()=>o==null?void 0:o(H(t)?!0:!t),{checkForDefaultPrevented:!1})})})});be.displayName=wt;var Te="MenuRadioGroup",[yt,bt]=I(Te,{value:void 0,onValueChange:()=>{}}),Ae=r.forwardRef((e,n)=>{const{value:t,onValueChange:o,...a}=e,s=ee(o);return u.jsx(yt,{scope:e.__scopeMenu,value:t,onValueChange:s,children:u.jsx(se,{...a,ref:n})})});Ae.displayName=Te;var Oe="MenuRadioItem",je=r.forwardRef((e,n)=>{const{value:t,...o}=e,a=bt(Oe,e.__scopeMenu),s=t===a.value;return u.jsx(De,{scope:e.__scopeMenu,checked:s,children:u.jsx(z,{role:"menuitemradio","aria-checked":s,...o,ref:n,"data-state":ue(s),onSelect:M(o.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,t)},{checkForDefaultPrevented:!1})})})});je.displayName=Oe;var ce="MenuItemIndicator",[De,Tt]=I(ce,{checked:!1}),Ne=r.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:o,...a}=e,s=Tt(ce,t);return u.jsx(W,{present:o||H(s.checked)||s.checked===!0,children:u.jsx(k.span,{...a,ref:n,"data-state":ue(s.checked)})})});Ne.displayName=ce;var At="MenuSeparator",ke=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return u.jsx(k.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});ke.displayName=At;var Ot="MenuArrow",Fe=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,a=L(t);return u.jsx(ut,{...a,...o,ref:n})});Fe.displayName=Ot;var ae="MenuSub",[jt,Le]=I(ae),Ke=e=>{const{__scopeMenu:n,children:t,open:o=!1,onOpenChange:a}=e,s=S(ae,n),l=L(n),[m,p]=r.useState(null),[h,d]=r.useState(null),c=ee(a);return r.useEffect(()=>(s.open===!1&&c(!1),()=>c(!1)),[s.open,c]),u.jsx(Ce,{...l,children:u.jsx(Re,{scope:n,open:o,onOpenChange:c,content:h,onContentChange:d,children:u.jsx(jt,{scope:n,contentId:he(),triggerId:he(),trigger:m,onTriggerChange:p,children:t})})})};Ke.displayName=ae;var O="MenuSubTrigger",Ge=r.forwardRef((e,n)=>{const t=S(O,e.__scopeMenu),o=K(O,e.__scopeMenu),a=Le(O,e.__scopeMenu),s=oe(O,e.__scopeMenu),l=r.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:p}=s,h={__scopeMenu:e.__scopeMenu},d=r.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return r.useEffect(()=>d,[d]),r.useEffect(()=>{const c=m.current;return()=>{window.clearTimeout(c),p(null)}},[m,p]),u.jsx(te,{asChild:!0,...h,children:u.jsx(ye,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":a.contentId,"data-state":Ve(t.open),...e,ref:qe(n,a.onTriggerChange),onClick:c=>{var f;(f=e.onClick)==null||f.call(e,c),!(e.disabled||c.defaultPrevented)&&(c.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:M(e.onPointerMove,D(c=>{s.onItemEnter(c),!c.defaultPrevented&&!e.disabled&&!t.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),d()},100))})),onPointerLeave:M(e.onPointerLeave,D(c=>{var C,v;d();const f=(C=t.content)==null?void 0:C.getBoundingClientRect();if(f){const E=(v=t.content)==null?void 0:v.dataset.side,w=E==="right",T=w?-5:5,G=f[w?"left":"right"],U=f[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:c.clientX+T,y:c.clientY},{x:G,y:f.top},{x:U,y:f.top},{x:U,y:f.bottom},{x:G,y:f.bottom}],side:E}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(c),c.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:M(e.onKeyDown,c=>{var C;const f=s.searchRef.current!=="";e.disabled||f&&c.key===" "||ht[o.dir].includes(c.key)&&(t.onOpenChange(!0),(C=t.content)==null||C.focus(),c.preventDefault())})})})});Ge.displayName=O;var Ue="MenuSubContent",Be=r.forwardRef((e,n)=>{const t=Se(x,e.__scopeMenu),{forceMount:o=t.forceMount,...a}=e,s=S(x,e.__scopeMenu),l=K(x,e.__scopeMenu),m=Le(Ue,e.__scopeMenu),p=r.useRef(null),h=N(n,p);return u.jsx(j.Provider,{scope:e.__scopeMenu,children:u.jsx(W,{present:o||s.open,children:u.jsx(j.Slot,{scope:e.__scopeMenu,children:u.jsx(re,{id:m.contentId,"aria-labelledby":m.triggerId,...a,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var c;l.isUsingKeyboardRef.current&&((c=p.current)==null||c.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:M(e.onFocusOutside,d=>{d.target!==m.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:M(e.onEscapeKeyDown,d=>{l.onClose(),d.preventDefault()}),onKeyDown:M(e.onKeyDown,d=>{var C;const c=d.currentTarget.contains(d.target),f=Mt[l.dir].includes(d.key);c&&f&&(s.onOpenChange(!1),(C=m.trigger)==null||C.focus(),d.preventDefault())})})})})})});Be.displayName=Ue;function Ve(e){return e?"open":"closed"}function H(e){return e==="indeterminate"}function ue(e){return H(e)?"indeterminate":e?"checked":"unchecked"}function Dt(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function Nt(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function kt(e,n,t){const a=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let l=Nt(e,Math.max(s,0));a.length===1&&(l=l.filter(h=>h!==t));const p=l.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return p!==t?p:void 0}function Ft(e,n){const{x:t,y:o}=e;let a=!1;for(let s=0,l=n.length-1;s<n.length;l=s++){const m=n[s].x,p=n[s].y,h=n[l].x,d=n[l].y;p>o!=d>o&&t<(h-m)*(o-p)/(d-p)+m&&(a=!a)}return a}function Lt(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Ft(t,n)}function D(e){return n=>n.pointerType==="mouse"?e(n):void 0}var nn=Pe,on=te,rn=Ee,sn=Ie,cn=se,an=we,un=z,ln=be,dn=Ae,fn=je,mn=Ne,pn=ke,hn=Fe,Mn=Ke,vn=Ge,Cn=Be;export{on as A,sn as C,cn as G,un as I,an as L,rn as P,dn as R,pn as S,ln as a,fn as b,tn as c,mn as d,hn as e,vn as f,Cn as g,nn as h,Mn as i};
