import{j as l}from"./jsx-runtime-CGpYA4L6.js";import{r as o}from"./index-CleY8y_P.js";import{c as L,P as f,b as R,u as A}from"./index-BUwirNCq.js";import{c as g}from"./utils-8RyR4BqC.js";var v="Avatar",[j,V]=L(v),[k,y]=j(v),N=o.forwardRef((a,t)=>{const{__scopeAvatar:e,...r}=a,[s,n]=o.useState("idle");return l.jsx(k,{scope:e,imageLoadingStatus:s,onImageLoadingStatusChange:n,children:l.jsx(f.span,{...r,ref:t})})});N.displayName=v;var h="AvatarImage",x=o.forwardRef((a,t)=>{const{__scopeAvatar:e,src:r,onLoadingStatusChange:s=()=>{},...n}=a,i=y(h,e),d=E(r),c=R(_=>{s(_),i.onImageLoadingStatusChange(_)});return A(()=>{d!=="idle"&&c(d)},[d,c]),d==="loaded"?l.jsx(f.img,{...n,ref:t,src:r}):null});x.displayName=h;var w="AvatarFallback",S=o.forwardRef((a,t)=>{const{__scopeAvatar:e,delayMs:r,...s}=a,n=y(w,e),[i,d]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&n.imageLoadingStatus!=="loaded"?l.jsx(f.span,{...s,ref:t}):null});S.displayName=w;function E(a){const[t,e]=o.useState("idle");return A(()=>{if(!a){e("error");return}let r=!0;const s=new window.Image,n=i=>()=>{r&&e(i)};return e("loading"),s.onload=n("loaded"),s.onerror=n("error"),s.src=a,()=>{r=!1}},[a]),t}var C=N,I=x,b=S;const u=o.forwardRef(({className:a,...t},e)=>l.jsx(C,{ref:e,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));u.displayName=C.displayName;const m=o.forwardRef(({className:a,...t},e)=>l.jsx(I,{ref:e,className:g("aspect-square h-full w-full",a),...t}));m.displayName=I.displayName;const p=o.forwardRef(({className:a,...t},e)=>l.jsx(b,{ref:e,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));p.displayName=b.displayName;try{u.displayName="Avatar",u.__docgenInfo={description:"",displayName:"Avatar",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{m.displayName="AvatarImage",m.__docgenInfo={description:"",displayName:"AvatarImage",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{p.displayName="AvatarFallback",p.__docgenInfo={description:"",displayName:"AvatarFallback",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}export{u as A,m as a,p as b};
